<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>MA Estimates — MA.estimates • RDS</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="MA Estimates — MA.estimates" />
<meta property="og:description" content="This function computes the sequential sampling (MA) estimates for a
categorical variable or numeric variable." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RDS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9-2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/How-to.html">Tutorial How to start</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ifellows/RDS/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>MA Estimates</h1>
    <small class="dont-index">Source: <a href='https://github.com/ifellows/RDS/blob/master/R/MA.estimates.R'><code>R/MA.estimates.R</code></a></small>
    <div class="hidden name"><code>MA.estimates.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function computes the sequential sampling (MA) estimates for a
categorical variable or numeric variable.</p>
    </div>

    <pre class="usage"><span class='fu'>MA.estimates</span><span class='op'>(</span>
  <span class='va'>rds.data</span>,
  <span class='va'>trait.variable</span>,
  seed.selection <span class='op'>=</span> <span class='st'>"degree"</span>,
  number.of.seeds <span class='op'>=</span> <span class='cn'>NULL</span>,
  number.of.coupons <span class='op'>=</span> <span class='cn'>NULL</span>,
  number.of.iterations <span class='op'>=</span> <span class='fl'>3</span>,
  N <span class='op'>=</span> <span class='cn'>NULL</span>,
  M1 <span class='op'>=</span> <span class='fl'>25</span>,
  M2 <span class='op'>=</span> <span class='fl'>20</span>,
  seed <span class='op'>=</span> <span class='fl'>1</span>,
  initial.sampling.probabilities <span class='op'>=</span> <span class='cn'>NULL</span>,
  MPLE.samplesize <span class='op'>=</span> <span class='fl'>50000</span>,
  SAN.maxit <span class='op'>=</span> <span class='fl'>5</span>,
  SAN.nsteps <span class='op'>=</span> <span class='fl'>2</span><span class='op'>^</span><span class='fl'>19</span>,
  sim.interval <span class='op'>=</span> <span class='fl'>10000</span>,
  number.of.cross.ties <span class='op'>=</span> <span class='cn'>NULL</span>,
  max.degree <span class='op'>=</span> <span class='cn'>NULL</span>,
  parallel <span class='op'>=</span> <span class='fl'>1</span>,
  parallel.type <span class='op'>=</span> <span class='fu'>snow</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/snow/man/snow-internal.html'>getClusterOption</a></span><span class='op'>(</span><span class='st'>"type"</span><span class='op'>)</span>,
  full.output <span class='op'>=</span> <span class='cn'>FALSE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rds.data</th>
      <td><p>An <code>rds.data.frame</code> that indicates recruitment patterns
by a pair of attributes named ``id'' and ``recruiter.id''.</p></td>
    </tr>
    <tr>
      <th>trait.variable</th>
      <td><p>A string giving the name of the variable in the
<code>rds.data</code> that contains a categorical or numeric variable to be
analyzed.</p></td>
    </tr>
    <tr>
      <th>seed.selection</th>
      <td><p>An estimate of the mechanism guiding the choice of
seeds.  The choices are</p><dl>
<dt>"allwithtrait"</dt><dd><p>indicating that all
the seeds had the trait;</p></dd> <dt>"random"</dt><dd><p>meaning they were, as if, a simple
random sample of individuals from the population;</p></dd>
<dt>"sample"</dt><dd><p>indicating that the seeds are taken as those in the sample
(and resampled for the population with that composition if necessary);</p></dd>
<dt>"degree"</dt><dd><p>is proportional to the degree of the individual;</p></dd>
<dt>"allwithtraitdegree"</dt><dd><p>indicating that all the seeds had the trait and
the probability of being a seed is proportional to the degree of the
respondent.</p></dd> 
</dl></td>
    </tr>
    <tr>
      <th>number.of.seeds</th>
      <td><p>The number of seeds chosen to initiate the sampling.</p></td>
    </tr>
    <tr>
      <th>number.of.coupons</th>
      <td><p>The number of coupons given to each respondent.</p></td>
    </tr>
    <tr>
      <th>number.of.iterations</th>
      <td><p>The number of iterations used at the core of the
algorithm.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>An estimate of the number of members of the population being
sampled. If <code>NULL</code> it is read as the <code>pop.size.mid</code> attribute of
the <code>rds.data</code> frame. If that is missing it defaults to 1000.</p></td>
    </tr>
    <tr>
      <th>M1</th>
      <td><p>The number of networked populations generated at each iteration.</p></td>
    </tr>
    <tr>
      <th>M2</th>
      <td><p>The number of (full) RDS samples generated for each networked
population at each iteration.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>The random number seed used to initiate the computations.</p></td>
    </tr>
    <tr>
      <th>initial.sampling.probabilities</th>
      <td><p>Initialize sampling probabilities for
the algorithm. If missing, they are taken as proportional to degree, and
this is almost always the best starting values.</p></td>
    </tr>
    <tr>
      <th>MPLE.samplesize</th>
      <td><p>Number of samples to take in the computation of the
maximum pseudolikelihood estimator (MPLE) of the working model parameter.
The default is almost always sufficient.</p></td>
    </tr>
    <tr>
      <th>SAN.maxit</th>
      <td><p>A ceiling on the number of simulated annealing iterations.</p></td>
    </tr>
    <tr>
      <th>SAN.nsteps</th>
      <td><p>Number of MCMC proposals for all the annealing runs combined.</p></td>
    </tr>
    <tr>
      <th>sim.interval</th>
      <td><p>Number of MCMC steps between each of the M1 sampled
networks per iteration.</p></td>
    </tr>
    <tr>
      <th>number.of.cross.ties</th>
      <td><p>The expected number of ties between those with
the trait and those without. If missing, it is computed based on the
respondent's reports of the number of ties they have to population members
who have the trait (i.e. <code>ties.to.trait.variable</code>) and do not have the
trait (i.e. <code>ties.not.to.trait.variable</code>).</p></td>
    </tr>
    <tr>
      <th>max.degree</th>
      <td><p>Impose ceiling on degree size.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Number of processors to use in the computations. The default
is 1, that is no parallel processing.</p></td>
    </tr>
    <tr>
      <th>parallel.type</th>
      <td><p>The type of cluster to start. e.g. 'sock', 'MPI', etc.</p></td>
    </tr>
    <tr>
      <th>full.output</th>
      <td><p>More verbose output</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Should verbose diagnostics be printed while the algorithm is
running.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>trait.variable</code> is numeric then the model-assisted estimate
of the mean is returned, otherwise a vector of proportion estimates is
returned. If <code>full.output=TRUE</code> this leads to:</p>
<p>If <code>full.output=FALSE</code> this leads to an object of class
<code>rds.interval.estimate</code> which is a list with components</p><ul>
<li><p>estimatethe numerical point estimate of proportion of
the<code>trait.variable</code>.</p></li>
<li><p>intervala matrix with size columns and one
row per category of <code>trait.variable</code>:<ul>
<li><p>point estimate The
HT estimate of the population mean.</p></li>
<li><p>95% Lower BoundLower 95%
confidence bound</p></li>
<li><p>95% Upper BoundUpper 95% confidence bound</p></li>
</ul>
Design EffectThe design effect of the RDS s.e.standard error
ncount of the number of sample values with that value of the trait</p></li>
</ul><p>rds.data An <code>rds.data.frame</code> that indicates recruitment
patterns by a pair of attributes named ``id'' and ``recruiter.id''.
  N An estimate of the number of members of the population being
sampled. If <code>NULL</code> it is read as the <code>pop.size.mid</code> attribute of
the <code>rds.data</code> frame. If that is missing it defaults to 1000.
  M1 The number of networked populations generated at each
iteration.
  M2 The number of (full) RDS populations generated for each
networked population at each iteration.
  seed The random number seed used to initiate the computations.
  seed.selection An estimate of the mechanism guiding the choice
of seeds.  The choices are</p><dl>
<dt>"allwithtrait"</dt><dd><p>indicating that
all the seeds had the trait;</p></dd> <dt>"random"</dt><dd><p>meaning they were, as if, a
simple random sample of individuals from the population;</p></dd>
<dt>"sample"</dt><dd><p>indicating that the seeds are taken as those in the sample
(and resampled for the population with that composition if necessary);</p></dd>
<dt>"degree"</dt><dd><p>is proportional to the degree of the individual;</p></dd>
<dt>"allwithtraitdegree"</dt><dd><p>indicating that all the seeds had the trait and
the probability of being a seed is proportional to the degree of the
respondent.</p></dd> 
</dl><p>number.of.seeds The number of seeds chosen to initiate the
sampling.
  number.of.coupons The number of coupons given to each
respondent.
  number.of.iterations The number of iterations used at the core
of the algorithm.
  outcome.variable The name of the outcome variable
  weight.type The type of weighting used (i.e. MA)
  uncertainty The type of weighting used (i.e. MA)
  details A list of other diagnostic output from the computations.
  varestBS Output from the bootstrap procedure. A list with two
elements: <code>var</code> is the bootstrap variance, and <code>BSest</code> is the
vector of bootstrap estimates themselves.
  coefficient estimate of the parameter of the ERGM for the
network.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gile, Krista J. 2011 Improved Inference for
Respondent-Driven Sampling Data with Application to HIV Prevalence
Estimation, Journal of the American Statistical Association, 106,
135-146.</p>
<p>Gile, Krista J., Handcock, Mark S., 2010. Respondent-driven Sampling:
An Assessment of Current Methodology, Sociological Methodology, 40,
285-327.</p>
<p><!-- %Gile, Krista J., Handcock, Mark S., 2011 Network Model-Assisted -->
<!-- %Inference from Respondent-Driven Sampling Data, ArXiv Preprint. --></p>
<p><!-- %%Neely, W. W., 2009. \emph{Bayesian methods for data from respondent driven -->
<!-- %sampling}. Dissertation in-progress, Department of Statistics, University of -->
<!-- %Wisconsin, Madison. --></p>
<p><!-- %Salganik, M., Heckathorn, D. D., 2004. Sampling and estimation in -->
<!-- %hidden populations using respondent-driven sampling. Sociological -->
<!-- %Methodology 34, 193-239. --></p>
<p><!-- %Volz, E., Heckathorn, D., 2008. Probability based estimation theory -->
<!-- %for Respondent Driven Sampling. The Journal of Official Statistics 24 (1), -->
<!-- %79-97. --></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'>
<ul>
<li><p>RDS.I.estimates<code><a href='RDS.I.estimates.html'>RDS.I.estimates</a></code></p></li>
<li><p>RDS.II.estimates<code><a href='RDS.I.estimates.html'>RDS.I.estimates</a></code></p></li>
</ul>
</div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Krista J. Gile with help from Mark S. Handcock</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>faux</span><span class='op'>)</span>
<span class='fu'>MA.estimates</span><span class='op'>(</span>rds.data<span class='op'>=</span><span class='va'>faux</span>,trait.variable<span class='op'>=</span><span class='st'>'X'</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mark S. Handcock, Krista J. Gile, Ian E. Fellows, W. Whipple Neely.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>



<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>RDS Bootstrap Interval Estimates — RDS.bootstrap.intervals • RDS</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="RDS Bootstrap Interval Estimates — RDS.bootstrap.intervals" />
<meta property="og:description" content="This function computes an interval estimate for one or more categorical
variables. It optionally uses attributes of the RDS data set to determine
the type of estimator and type of uncertainty estimate to use." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RDS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9-2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/How-to.html">Tutorial How to start</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ifellows/RDS/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>RDS Bootstrap Interval Estimates</h1>
    <small class="dont-index">Source: <a href='https://github.com/ifellows/RDS/blob/master/R/bootstrap-intervals.R'><code>R/bootstrap-intervals.R</code></a></small>
    <div class="hidden name"><code>RDS.bootstrap.intervals.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function computes an interval estimate for one or more categorical
variables. It optionally uses attributes of the RDS data set to determine
the type of estimator and type of uncertainty estimate to use.</p>
    </div>

    <pre class="usage"><span class='fu'>RDS.bootstrap.intervals</span><span class='op'>(</span>
  <span class='va'>rds.data</span>,
  <span class='va'>outcome.variable</span>,
  weight.type <span class='op'>=</span> <span class='cn'>NULL</span>,
  uncertainty <span class='op'>=</span> <span class='cn'>NULL</span>,
  N <span class='op'>=</span> <span class='cn'>NULL</span>,
  subset <span class='op'>=</span> <span class='cn'>NULL</span>,
  confidence.level <span class='op'>=</span> <span class='fl'>0.95</span>,
  number.of.bootstrap.samples <span class='op'>=</span> <span class='cn'>NULL</span>,
  fast <span class='op'>=</span> <span class='cn'>TRUE</span>,
  useC <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ci.type <span class='op'>=</span> <span class='st'>"t"</span>,
  control <span class='op'>=</span> <span class='fu'><a href='control.rds.estimates.html'>control.rds.estimates</a></span><span class='op'>(</span><span class='op'>)</span>,
  to.factor <span class='op'>=</span> <span class='cn'>FALSE</span>,
  cont.breaks <span class='op'>=</span> <span class='fl'>3</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rds.data</th>
      <td><p>An <code>rds.data.frame</code> that indicates recruitment patterns
by a pair of attributes named ``id'' and ``recruiter.id''.</p></td>
    </tr>
    <tr>
      <th>outcome.variable</th>
      <td><p>A string giving the name of the variable in the
<code>rds.data</code> that contains a categorical or numeric variable to be
analyzed.</p></td>
    </tr>
    <tr>
      <th>weight.type</th>
      <td><p>A string giving the type of estimator to use. The options
are <code>"Gile's SS"</code>, <code>"RDS-I"</code>, <code>"RDS-II"</code>, <code>"RDS-I (DS)"</code>,
and <code>"Arithemic Mean"</code>. If <code>NULL</code> it defaults to <code>"Gile's
SS"</code>.</p></td>
    </tr>
    <tr>
      <th>uncertainty</th>
      <td><p>A string giving the type of uncertainty estimator to use.
The options are <code>"SRS"</code>, <code>"Gile"</code> and <code>"Salganik"</code>. This is usually
determined by <code>weight.type</code> to be consistent with the estimator's
origins. The estimators RDS-I, RDS-I (DS), and RDS-II default to <code>"Salganik"</code>,  "Arithmetic
Mean" defaults to <code>"SRS"</code> and "Gile's SS" defaults to the <code>"Gile"</code> bootstrap.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>An estimate of the number of members of the population being
sampled. If <code>NULL</code> it is read as the <code>population.size.mid</code> attribute of
the <code>rds.data</code> frame. If that is missing it defaults to 1000.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>An optional criterion to subset <code>rds.data</code> by. It is a
character string giving an R expression which, when evaluated, subset the
data. In plain English, it can be something like <code>"seed &gt; 0"</code> to
exclude seeds. It can be the name of a logical vector of the same length of
the outcome variable where TRUE means include it in the analysis. If
<code>NULL</code> then no subsetting is done.</p></td>
    </tr>
    <tr>
      <th>confidence.level</th>
      <td><p>The confidence level for the confidence intervals.
The default is 0.95 for 95%.</p></td>
    </tr>
    <tr>
      <th>number.of.bootstrap.samples</th>
      <td><p>The number of bootstrap samples to take
in estimating the uncertainty of the estimator. If <code>NULL</code> it defaults
to the number necessary to compute the standard error to accuracy 0.001.
<code>outcome.variable</code>. Otherwise it will compute the population frequencies of each value of the <code>outcome.variable</code>.</p></td>
    </tr>
    <tr>
      <th>fast</th>
      <td><p>Use a fast bootstrap where the weights are reused from the
estimator rather than being recomputed for each bootstrap sample.</p></td>
    </tr>
    <tr>
      <th>useC</th>
      <td><p>Use a C-level implementation of Gile's bootstrap (rather than
the R level). The implementations should be a computational
equivalent estimator (except for speed).</p></td>
    </tr>
    <tr>
      <th>ci.type</th>
      <td><p>Type of confidence interval to use, if possible. If "t", use lower and upper confidence
interval values based on the standard deviation of the bootstrapped values and a t multiplier.
If "pivotal", use lower and upper confidence interval values based on the
basic bootstrap (also called the pivotal confidence interval).
If "quantile", use lower and upper confidence interval values based on the
quantiles of the bootstrap sample.
If "proportion", use the "t" unless the estimated proportion is less than 0.15 or the bounds are
outside [0,1 . In this case, try the "quantile" and constrain the bounds to be compatible with [0,1].</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>A list of control parameters for algorithm
tuning. Constructed using<br />
<code><a href='control.rds.estimates.html'>control.rds.estimates</a></code>.</p></td>
    </tr>
    <tr>
      <th>to.factor</th>
      <td><p>force variable to be a factor</p></td>
    </tr>
    <tr>
      <th>cont.breaks</th>
      <td><p>For continuous variates, some bootstrap proceedures require categorical data.
In these cases, in order to contruct each bootstrap replicate, the outcome variable is split into
cont.breaks categories.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments for RDS.*.estimates.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>rds.interval.estimate</code> summarizing the inference.
The confidence interval and standard error are based on the bootstrap procedure.
In additon, the object has attribute <code>bsresult</code> which provides details of the
bootstrap procedure. The contents of the <code>bsresult</code> attribute depends on the
<code>uncertainty</code> used. If <code>uncertainty=="Salganik"</code> then <code>bsresult</code> is a
vector of standard deviations of the bootstrap samples.
If <code>uncertainty=="Gile's SS"</code> then
<code>bsresult</code> is a list with components for the bootstrap point estimate,
the bootstrap
samples themselves and the standard deviations of the bootstrap samples.
If <code>uncertainty=="SRS"</code> then <code>bsresult</code> is NULL.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gile, Krista J. 2011 <em>Improved Inference for
Respondent-Driven Sampling Data with Application to HIV Prevalence
Estimation</em>, <em>Journal of the American Statistical Association</em>, 106,
135-146.</p>
<p>Gile, Krista J., Handcock, Mark S., 2010 <em>Respondent-driven Sampling:
An Assessment of Current Methodology</em>. Sociological Methodology 40, 285-327.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>fauxmadrona</span><span class='op'>)</span>
<span class='fu'>RDS.bootstrap.intervals</span><span class='op'>(</span>rds.data<span class='op'>=</span><span class='va'>fauxmadrona</span>,weight.type<span class='op'>=</span><span class='st'>"RDS-II"</span>,
     uncertainty<span class='op'>=</span><span class='st'>"Salganik"</span>,
  outcome.variable<span class='op'>=</span><span class='st'>"disease"</span>,N<span class='op'>=</span><span class='fl'>1000</span>,number.of.bootstrap.samples<span class='op'>=</span><span class='fl'>50</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>fauxtime</span><span class='op'>)</span>
<span class='fu'>RDS.bootstrap.intervals</span><span class='op'>(</span>rds.data<span class='op'>=</span><span class='va'>fauxtime</span>,weight.type<span class='op'>=</span><span class='st'>"HCG"</span>,
     uncertainty<span class='op'>=</span><span class='st'>"HCG"</span>,
  outcome.variable<span class='op'>=</span><span class='st'>"var1"</span>,N<span class='op'>=</span><span class='fl'>1000</span>,number.of.bootstrap.samples<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mark S. Handcock, Krista J. Gile, Ian E. Fellows, W. Whipple Neely.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


